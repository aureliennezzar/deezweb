(this.webpackJsonpgeo_learner=this.webpackJsonpgeo_learner||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c(20),r=c.n(s),i=(c(27),c(3)),l=Object(n.createContext)({filter:"TRACK_ASC",setFilter:function(){}}),o=c(10),j=c(5),u=function(e){return"".concat(("0"+(e-e%60)/60).slice(-2),":").concat(("0"+e%60).slice(-2))},b=(c(28),function(e){var t=e.title,c=e.artist,s=e.album,r=e.time,l=e.imageSrc,b=e.artistID,m=e.trackID,d=e.albumID,O=Object(n.useState)(!1),h=Object(i.a)(O,2),f=h[0],x=h[1],p=Object(n.useState)(!1),g=Object(i.a)(p,2),v=g[0],N=g[1],k=u(r),S=window.localStorage;Object(n.useEffect)((function(){try{JSON.parse(S.getItem("favTracks")).indexOf(m)>=0&&N(!0)}catch(e){}}),[]);return Object(a.jsxs)("article",{className:"search-item ".concat(f?"active":""),children:[Object(a.jsxs)("div",{className:"image",onMouseOver:function(){return x(!0)},onMouseLeave:function(){return x(!1)},children:[Object(a.jsxs)(j.b,{className:"track-link",to:"/musique/".concat(m),onClick:function(){return window.location.href="/musique/".concat(m)},children:[" ",Object(a.jsx)("img",{className:"cover",src:l})]}),Object(a.jsx)("div",{className:"actions",children:Object(a.jsx)("span",{onClick:function(){if(v){var e=JSON.parse(S.getItem("favTracks")).filter((function(e){return e!==m}));S.setItem("favTracks",JSON.stringify(e)),N(!1)}else{try{S.setItem("favTracks",JSON.stringify([].concat(Object(o.a)(JSON.parse(S.getItem("favTracks"))),[m])))}catch(t){S.setItem("favTracks",JSON.stringify([m]))}N(!0)}},className:"hearth-btn ".concat(v?"icon-full-hearth":"icon-empty-hearth"," action")})}),Object(a.jsx)("span",{className:"meta-time",children:k})]}),Object(a.jsxs)("div",{className:"infos",children:[Object(a.jsxs)("h3",{className:"title",children:[t," ",Object(a.jsx)(j.b,{className:"album-link",to:"/album/".concat(d),children:s})]}),Object(a.jsxs)("p",{className:"artist",children:["par ",Object(a.jsx)(j.b,{className:"artist-link",to:"/artiste/".concat(b),children:c})]})]})]})}),m=(c(34),function(){var e=Object(n.useContext)(l),t=e.filter,c=e.setFilter;Object(n.useEffect)((function(){console.log(t)}),[t]);return Object(a.jsx)("div",{className:"tabs col",children:Object(a.jsx)("ul",{children:[{label:"Titres",id:"TRACK_ASC"},{label:"Albums",id:"ALBUM_ASC"},{label:"Artistes",id:"ARTIST_ASC"},{label:"Popularit\xe9",id:"RATING_ASC"},{label:"Rang",id:"RANKING"}].map((function(e,n){return Object(a.jsx)("li",{className:"tab".concat(e.id===t?" active":""),onClick:function(t){var a;a=e.id,console.log(a),c(a)},children:e.label},n)}))})})}),d=c(9),O=c.n(d),h=c(2);c(35);var f=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),j=o[0],u=o[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),x=f[0],p=f[1],g=Object(n.useContext)(l).filter,v=new URLSearchParams(Object(h.h)().search),N=Object(h.h)().pathname.split("/").join(""),k=Object(h.g)(),S="recherche";Object(n.useEffect)((function(){I("",c)}),[g]),Object(n.useEffect)((function(){v.get(S)&&(s(v.get(S)),I("",v.get(S)))}),[]);var I=function(e,t){try{e.preventDefault()}catch(c){}t.length&&O()("https://api.deezer.com/search?q=".concat(t,"&order=").concat(g,"&output=jsonp")).then((function(e){return e.json()})).then((function(e){u(e.data),k.push("/".concat(N,"?").concat(S,"=").concat(t)),e.data.length?p(!1):p(!0),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(a.jsxs)("section",{className:"page home",children:[Object(a.jsx)("form",{className:"actions col",onSubmit:function(e){return I(e,c)},children:Object(a.jsx)("input",{type:"text",placeholder:"Rechercher...",onInput:function(e){s(e.currentTarget.value)},value:c})}),Object(a.jsx)(m,{}),Object(a.jsxs)("div",{className:"search-output col",children:[x?Object(a.jsx)("h2",{className:"error",children:"Aucun resultat trouv\xe9"}):"",j.length?Object(a.jsx)("h2",{className:"best",children:"Meilleur resultats : "}):"",j.map((function(e,t){return Object(a.jsx)(b,{title:e.title,artist:e.artist.name,album:e.album.title,time:e.duration,artistID:e.artist.id,imageSrc:e.album.cover_medium,trackID:e.id,albumID:e.album.id},t)}))]})]})},x=c.p+"static/media/brand.99771cea.svg",p=(c(36),function(){return Object(a.jsxs)("nav",{className:"nav col",children:[Object(a.jsx)(j.b,{to:"/accueil",children:Object(a.jsx)("img",{className:"brand",src:x})}),Object(a.jsx)("ul",{className:"menu",children:Object(a.jsx)("li",{className:"menu-item",children:Object(a.jsx)(j.b,{to:"/favoris",children:"Favoris"})})})]})}),g=(c(37),function(e){var t=e.audio,c=e.type,s=void 0===c?0:c,r=Object(n.useRef)(),l=Object(n.useRef)(),o=Object(n.useState)("00:00"),j=Object(i.a)(o,2),u=j[0],b=j[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),O=d[0],h=d[1],f=Object(n.useState)(!1),x=Object(i.a)(f,2),p=x[0],g=x[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),k=N[0],S=N[1],I=Object(n.useState)(100),C=Object(i.a)(I,2),T=C[0],y=C[1],w=Object(n.useState)(0),_=Object(i.a)(w,2),D=_[0],A=_[1];Object(n.useEffect)((function(){try{l.current.readyState>0&&F()}catch(e){}}),[]);var F=function(){h(z(l.current.duration))},z=function(e){var t=Math.floor(e/60),c=Math.floor(e%60),a=c<10?"0".concat(c):"".concat(c),n=t<10?"0".concat(t):"".concat(t);return"".concat(n,":").concat(a)},M=function(){var e=l.current,t=e.currentTime,c=t/e.duration;b(z(t)),r.current.style.width=100*c+"%"},E=function(e){l.current.pause(),l.current.src=t[e].src,A(e),l.current.currentTime=0,l.current.load(),g(!1),M()},J=function(){l.current.currentTime=0};return Object(a.jsxs)("div",{className:"audio-player",children:[t.length?Object(a.jsx)("audio",{ref:l,src:s?t[D].src:t,onLoadedMetadata:F,onTimeUpdate:M,onEnded:function(){s?(console.log(D,t.length-1),D===t.length-1?E(0):(A(D+1),l.current.pause(),l.current.src=t[D].src,l.current.load(),setTimeout((function(){l.current.play(),g(!0)}),150))):(g(!1),l.current.currentTime=0)}}):"",t.length&&s?Object(a.jsxs)("div",{className:"track-infos",children:[Object(a.jsx)("h2",{children:t[D].title})," -",Object(a.jsx)("span",{children:t[D].artist})]}):"",Object(a.jsxs)("div",{className:"controller",children:[s?Object(a.jsx)("span",{onClick:function(){100*l.current.currentTime/l.current.duration<=4?0===D?J():(E(D-1),setTimeout((function(){l.current.play(),g(!0)}),150)):J()},className:"icon-rewind rewind"}):"",Object(a.jsx)("span",{onClick:function(){p?(l.current.pause(),g(!1)):(l.current.play(),g(!0))},className:"".concat(p?"icon-pause":"icon-play"," control")}),s?Object(a.jsx)("span",{onClick:function(){D===t.length-1?E(0):E(D+1),setTimeout((function(){l.current.play(),g(!0)}),150)},className:"icon-fast-forward forward"}):"",Object(a.jsx)("span",{id:"current-time",className:"time",children:u}),Object(a.jsxs)("div",{className:"seek-bar",onClick:function(e){var t,c=l.current.duration,a=e.currentTarget.getBoundingClientRect(),n=a.x,s=a.width;t=e.clientX-n<0?0:Math.floor(100*(e.clientX-n)/s),l.current.currentTime=t*c/100},children:[Object(a.jsx)("div",{ref:r,className:"fill"}),Object(a.jsx)("div",{className:"handle"})]}),Object(a.jsx)("span",{id:"duration",className:"time",children:O}),Object(a.jsx)("span",{"data-name":"mutebtn",onClick:function(e){"mutebtn"===e.target.dataset.name&&(k?(l.current.volume=T/100,S(!1)):(l.current.volume=0,S(!0)))},className:"".concat(k?"icon-mute":"icon-volume"," volume"),children:Object(a.jsx)("div",{children:Object(a.jsx)("input",{type:"range",name:"volume",max:"100",min:"0",onChange:function(e){y(e.target.value),l.current.volume=e.target.value/100,S(!1)},value:T})})})]})]})}),v=(c(38),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),j=l[0],u=l[1];return Object(n.useEffect)((function(){try{JSON.parse(window.localStorage.getItem("favTracks")).forEach((function(e){O()("https://api.deezer.com/track/".concat(e,"&output=jsonp")).then((function(e){return e.json()})).then((function(e){s((function(t){return[].concat(Object(o.a)(t),[e])})),u((function(t){return[].concat(Object(o.a)(t),[{artist:e.artist.name,title:e.title,src:e.preview}])}))})).catch((function(e){console.log(e)}))}))}catch(e){}}),[]),Object(a.jsxs)("section",{className:"page favs",children:[Object(a.jsxs)("div",{className:"search-output col",children:[c.length?Object(a.jsx)("h2",{className:"best",children:"Vos favoris : "}):Object(a.jsx)("h2",{className:"best",children:"Vous n'avez aucun favori."}),c.map((function(e,t){return Object(a.jsx)(b,{title:e.title,artist:e.artist.name,album:e.album.title,albumID:e.album.id,time:e.duration,artistID:e.artist.id,imageSrc:e.album.cover_medium,trackID:e.id},t)}))]}),Object(a.jsx)(g,{audio:j,type:1})]})}),N=c.p+"static/media/deezer.6c1a84e4.png",k=(c(39),function(){var e=Object(h.i)().id,t=Object(n.useState)(null),c=Object(i.a)(t,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){fetch("https://api.deezer.com/album/".concat(e)).then((function(e){return e.json()})).then((function(e){r(e),console.log(e)}))}),[]),Object(a.jsx)("section",{className:"page album",children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"album-hero",children:[Object(a.jsxs)("h1",{children:[s.title," ",Object(a.jsx)(j.b,{className:"artist-link",to:"/artiste/".concat(s.artist.id),children:s.artist.name})]}),Object(a.jsx)("div",{className:"album-image",children:Object(a.jsx)("img",{className:"cover",src:s.cover_big,alt:"Cover de l'album"})})]}),Object(a.jsxs)("div",{className:"rating",children:[" ","\u2605".repeat(s.rating)," ",Object(a.jsx)("span",{className:"rating-empty",children:"\u2605".repeat(5-s.rating)})]}),Object(a.jsx)("ul",{className:"tracklist col",children:s.tracks.data.map((function(e,t){return Object(a.jsxs)("li",{children:[" ",Object(a.jsxs)(j.b,{className:"track-link",to:"/musique/".concat(e.id),children:[Object(a.jsxs)("span",{className:"index",children:[t+1,"."]}),e.title,Object(a.jsx)("span",{className:"duration",children:u(e.duration)})]})]},t)}))}),Object(a.jsxs)("div",{className:"deezer",children:[" ",Object(a.jsx)("a",{href:s.link,target:"_blank",rel:"noopener",children:Object(a.jsx)("img",{className:"deezer-image",src:N})})]})]}):Object(a.jsx)(a.Fragment,{children:"Chargement ..."})})}),S=(c(40),c(41),function(e){var t=e.apiSearch,c=e.title,s=Object(n.useState)([]),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(n.useEffect)((function(){fetch(t).then((function(e){return e.json()})).then((function(e){o(e.data),console.log(e)}))}),[]),Object(a.jsxs)("section",{className:"col suggestion",children:[Object(a.jsxs)("h2",{className:"title",children:[c," : "]}),Object(a.jsx)("div",{className:"sugg-list",children:l.map((function(e,t){return Object(a.jsx)(b,{title:e.title,artist:e.artist.name,album:e.album.title,time:e.duration,artistID:e.artist.id,imageSrc:e.album.cover_medium,trackID:e.id,albumID:e.album.id},t)}))})]})}),I=function(){var e=Object(h.i)().id,t=Object(n.useState)(null),c=Object(i.a)(t,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){fetch("https://api.deezer.com/artist/".concat(e)).then((function(e){return e.json()})).then((function(e){r(e),console.log(e)}))}),[]),Object(a.jsx)("section",{className:"page artist",children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"artist-wrapper col",children:[Object(a.jsx)("div",{className:"artist-image",children:Object(a.jsx)("img",{className:"cover",src:s.picture_medium})}),Object(a.jsxs)("div",{className:"infos",children:[Object(a.jsx)("h1",{className:"artist-name",children:s.name}),Object(a.jsxs)("p",{children:[s.nb_fan," fans"]}),Object(a.jsxs)("p",{children:[s.nb_album," albums"]}),Object(a.jsx)("a",{href:s.link,target:"_blank",rel:"noopener",children:Object(a.jsx)("img",{className:"deezer-image",src:N})})]})]}),Object(a.jsx)(S,{apiSearch:s.tracklist,title:"Decouvrir ".concat(s.name)})]}):Object(a.jsx)(a.Fragment,{children:"Chargement ..."})})},C=(c(42),function(){var e=Object(h.i)().id;e=parseInt(e);var t=Object(n.useState)(null),c=Object(i.a)(t,2),s=c[0],r=c[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),b=u[0],m=u[1],d=window.localStorage;Object(n.useEffect)((function(){try{JSON.parse(d.getItem("favTracks")).indexOf(e)>=0&&m(!0)}catch(t){}fetch("https://api.deezer.com/track/".concat(e)).then((function(e){return e.json()})).then((function(e){r(e),console.log(e)}))}),[]),Object(n.useEffect)((function(){}),[e]);return Object(a.jsx)("section",{className:"page trackpage",children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"trackinfos col",children:[Object(a.jsxs)("div",{className:"image",children:[Object(a.jsx)("img",{className:"cover",src:s.album.cover_medium}),Object(a.jsx)("div",{className:"actions",children:Object(a.jsx)("span",{onClick:function(){if(b){var t=JSON.parse(d.getItem("favTracks")).filter((function(t){return t!==e}));d.setItem("favTracks",JSON.stringify(t)),m(!1)}else{try{d.setItem("favTracks",JSON.stringify([].concat(Object(o.a)(JSON.parse(d.getItem("favTracks"))),[e])))}catch(c){d.setItem("favTracks",JSON.stringify([e]))}m(!0)}},className:"hearth-btn ".concat(b?"icon-full-hearth":"icon-empty-hearth"," action")})})]}),Object(a.jsxs)("div",{className:"infos",children:[Object(a.jsxs)("h1",{className:"title",children:[s.title," ",Object(a.jsx)(j.b,{className:"album-link",to:"/album/".concat(s.album.id),children:s.album.title})]}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsxs)("p",{className:"artist",children:[Object(a.jsx)("img",{src:s.artist.picture_small,className:"cover"}),Object(a.jsx)(j.b,{className:"artist-link",to:"/artiste/".concat(s.artist.id),children:s.artist.name})]}),Object(a.jsx)("a",{href:s.link,target:"_blank",rel:"noopener",children:Object(a.jsx)("img",{className:"deezer-image",src:N})})]}),Object(a.jsx)("p",{className:"release",children:s.release_date}),Object(a.jsx)(g,{audio:s.preview})]})]}),Object(a.jsx)(S,{apiSearch:s.artist.tracklist,title:"Du m\xeame artiste"})]}):Object(a.jsx)(a.Fragment,{children:"Chargement ..."})})}),T=(c(43),function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=function(){console.log("01001100 01100101 00100000 01101101 01101111 01101110 01100100 01100101 00100000 01100101 01110011 01110100 00100000 01110101 01101110 00100000 01110011 01110000 01100101 01100011 01110100 01100001 01100011 01101100 01100101 00101100 00100000 01101100 01100001 00100000 01110110 01101001 01100101 00100000 01110101 01101110 00100000 01110000 01100001 01110011 01110011 01100001 01100111 01100101 00100000 00111011 00100000 01110100 01110101 00100000 01100101 01110011 00100000 01110110 01100101 01101110 01110101 00101100 00100000 01110100 01110101 00100000 01100001 01110011 00100000 01110110 01110101 00101100 00100000 01110000 01110101 01101001 01110011 00100000 01110100 01110101 00100000 01110100 00100111 01100101 01110011 00100000 01100101 01101110 00100000 01100001 01101100 01101100 11000011 10101001 00101110 00100000")};return Object(n.useEffect)((function(){var e=["Mince ! Vous n'\xeates pas au bonne endroit !","Mais comment tu as fais pour arriver la ?","404 Error \xaf\\_(\u30c4)_/\xaf","Il n'y a rien a voir ici !","L'arri\xe8re boutique est ferm\xe9e !","Il n'y a rien a ecouter ici \ud83c\udfa7",Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(b,{title:"????",artist:"????",album:"????",time:"????",imageSrc:"https://i.ytimg.com/vi/RHGWrQq6iTI/hqdefault.jpg",artistID:288166,trackID:166878002,albumID:15579230})}),"Chargement... (404 secondes restantes)","Cette page est introuvable",Object(a.jsxs)(a.Fragment,{children:["Cr\xe9e par ",Object(a.jsx)("a",{href:"https://www.aurelien-nezzar.com",target:"_blank",rel:"noopener",children:"Aur\xe9lien Nezzar"})]}),Object(a.jsxs)(a.Fragment,{children:["Tu es perdu ? C'est pas grave clique ",Object(a.jsx)(j.b,{to:"/accueil",children:"ici"})]})],t=Math.floor(21*Math.random())+0,c=Math.floor(21*Math.random())+0;if(console.log(t,c),t===c)s(Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"vous avez trouv\xe9 la page secrete de Deez'web"}),Object(a.jsx)("button",{onClick:r,children:"???"})]}));else{var n=Math.floor(Math.random()*e.length);s(Object(a.jsx)("h1",{className:"title",children:e[n]}))}}),[]),Object(a.jsxs)("section",{className:"page notfound",children:[Object(a.jsx)("span",{className:"icon-volume"}),c]})});var y=function(){var e=Object(n.useState)("TRACK_ASC"),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(p,{}),Object(a.jsxs)(h.d,{children:[Object(a.jsx)(h.b,{exact:!0,path:"/",component:function(){return Object(a.jsx)(h.a,{to:"/accueil"})}}),Object(a.jsx)(h.b,{path:"/accueil",children:Object(a.jsx)(l.Provider,{value:{filter:c,setFilter:s},children:Object(a.jsx)(f,{})})}),Object(a.jsx)(h.b,{path:"/favoris",children:Object(a.jsx)(v,{})}),Object(a.jsx)(h.b,{path:"/artiste/:id",children:Object(a.jsx)(I,{})}),Object(a.jsx)(h.b,{path:"/album/:id",children:Object(a.jsx)(k,{})}),Object(a.jsx)(h.b,{path:"/musique/:id",children:Object(a.jsx)(C,{})}),Object(a.jsx)(h.b,{exact:!0,path:"/album",children:Object(a.jsx)(h.a,{to:"/accueil"})}),Object(a.jsx)(h.b,{exact:!0,path:"/musique",children:Object(a.jsx)(h.a,{to:"/accueil"})}),Object(a.jsx)(h.b,{exact:!0,path:"/artiste",children:Object(a.jsx)(h.a,{to:"/accueil"})}),Object(a.jsx)(h.b,{component:T})]})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,45)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(a.jsx)(j.a,{children:Object(a.jsx)(y,{})}),document.querySelector("#root")),w()}},[[44,1,2]]]);
//# sourceMappingURL=main.4c55fcc8.chunk.js.map